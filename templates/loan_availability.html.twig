{% extends "base.html.twig" %}

{% block stylesheets %}
    <style>
        #edit-form {
            margin: 15px;
            padding: 15px;
            border: 1px solid grey;
            border-radius: 15px;
            display: none;
        }
    </style>
{% endblock %}

{% block title %}Checking loan availability{% endblock %}

{% block content %}
    <p>Name {{ customer.firstName }} {{ customer.lastName }}</p>
    <p>Age {{ customer.age }}</p>
    <p>SSN {{ customer.ssn }}</p>
    <p>Address {{ customer.address.state }}, {{ customer.address.city }}, {{ customer.address.address }}, {{ customer.address.zip }}</p>
    <p>FICO {{ customer.fico }}</p>
    <p>Monthly income {{ customer.income }}</p>
    <p>Email {{ customer.email }}</p>
    <p>Phone {{ customer.phoneNumber }}</p>
    <br>
    <br>

    <h3>Checking loan availability for customer...</h3>
    {% if declineReasons is empty %}
        <p style="color: green;">You can get a loan!</p>
    {% else %}
        Can not issue a loan(
        {% for reason in declineReasons %}
            <p style="color: red;">{{ reason }}</p>
        {% endfor %}
    {% endif %}


    <script>
        var editButton = document.getElementById('edit-button');
        var editFormDiv = document.getElementById('edit-form');
        editButton.addEventListener('click', (e) => {
            editFormDiv.style.display = 'block';
        });
    </script>
{% endblock %}
